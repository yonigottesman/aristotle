{% extends "base.html" %}
{% import 'bootstrap/wtf.html' as wtf %}

{% block app_content %}
<div class="row">
  <div class="col-sm-3">
    {% include '_experiments.html' %}      
  </div>
  
  <div class="col-lg-9">
    <!-- setting -->
    <div class="container">
      <div class="row">
        <a href="{{ url_for('main.experiment_settings',experiment_id=experiment_id) }}">
          <span class="glyphicon glyphicon-pencil"></span> Settings
        </a>
      </div>
    </div>
    
    <br>
    <!-- table -->
    <form action="{{ url_for('main.select_compare',experiment_id=experiment_id)}}" method="post">    
      <div class="row table-responsive text-nowrap ">
        <table class="table table-hover table-striped table-bordered table-hover model-list">
          <thead class="thead-dark">
            <tr>
              <th scope="col"></th>
              <th scope="col"></th>
              {% for i in column_range %}
              <th scope="col">{{columns[i]}}</th>
              {% endfor %}
            </tr>
          </thead>
          <tbody>
            {% for row in table %}
            <tr>
              <td > <input type="checkbox" name="rowid" class="action-checkbox select-run" value={{row['run'].id}} title="Select record"></td>
              <td><a data-toggle="tooltip" data-placement="left" title="{{row['run'].description}}" href="{{ url_for('main.run',experiment_id=experiment_id,run_id=row['run'].id) }}">view</a></td>          
              {% for i in column_range %}
              <td >{{row['columns'][i]}}</td>          
              {% endfor %}
            </tr>        
            {% endfor %}
          </tbody>
        </table>
      </div>
      <button type="submit" class="btn btn-primary">Compare</button>
    </form>

    <br>

    <div class="list-group">
      
      <li class="list-group-item list-group-item-action ">
        <form action="" method="post">
          {{ add_run_form.hidden_tag() }}
          <div class="form-group {% if add_run_form.description.errors %} has-error {% endif %} ">
            {{add_run_form.description.label}}
            {{add_run_form.description(placeholder="Description of run", class="form-control") }}
            {% for error in add_run_form.description.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
          </div>
          
          <div class="form-group {% if add_run_form.columns.errors %} has-error {% endif %}">
            {{add_run_form.columns.label}}
            {{add_run_form.columns(class="form-control", placeholder="arg1=val1, arg2=val2...")}}
            {% if add_run_form.columns.errors %}
            {% for error in add_run_form.columns.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
            {% endif %}
          </div>
          
          <div class="form-group {% if add_run_form.run_result.errors %} has-error {% endif %}">
            {{add_run_form.run_result.label}}
            {{add_run_form.run_result(class="form-control",rows="5",placeholder="")}}
            {% if add_run_form.run_result.errors %}
            {% for error in add_run_form.run_result.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
            {% endif %}
          </div>
          {{add_run_form.submit(class="btn btn-default")}}
        </form>
      </li>
    </div>
    
  </div>
</div>


{% endblock %}







